<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the getPlaylist method from the PlaylistsMixin mixin, for the Dart programming language.">
  <title>getPlaylist method - PlaylistsMixin mixin - playlists library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">
  
</head>

<body data-base-href="../../" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">ytmusicapi_dart</a></li>
    <li><a href="../../mixins_playlists/">mixins&#47;playlists.dart</a></li>
    <li><a href="../../mixins_playlists/PlaylistsMixin-mixin.html">PlaylistsMixin</a></li>
    <li class="self-crumb">getPlaylist method</li>
  </ol>
  <div class="self-name">getPlaylist</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
<div
    id="dartdoc-main-content"
    class="main-content"
    data-above-sidebar="mixins_playlists&#47;PlaylistsMixin-mixin-sidebar.html"
    data-below-sidebar="">
    <div>
<h1><span class="kind-method">getPlaylist</span> method 
</h1></div>

    <section class="multi-line-signature">
      
<span class="returntype"><a href="https://api.dart.dev/stable/3.9.4/dart-core/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="../../type_alias/JsonMap.html">JsonMap</a></span>&gt;</span></span>
<span class="name ">getPlaylist</span>(<wbr><ol class="parameter-list"> <li><span class="parameter" id="getPlaylist-param-playlistId"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">playlistId</span>, {</span></li>
<li><span class="parameter" id="getPlaylist-param-limit"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.4/dart-core/int-class.html">int</a>?</span> <span class="parameter-name">limit</span> = <span class="default-value">100</span>, </span></li>
<li><span class="parameter" id="getPlaylist-param-related"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.4/dart-core/bool-class.html">bool</a></span> <span class="parameter-name">related</span> = <span class="default-value">false</span>, </span></li>
<li><span class="parameter" id="getPlaylist-param-suggestionsLimit"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.9.4/dart-core/int-class.html">int</a></span> <span class="parameter-name">suggestionsLimit</span> = <span class="default-value">0</span>, </span></li>
</ol>})

      

    </section>
    
<section class="desc markdown">
  <p>Returns a list of playlist items.</p>
<ul>
<li><code>playlistId</code> Playlist id.</li>
<li><code>limit</code> How many songs to return. <code>null</code> retrieves them all. (Default: <code>100</code>).</li>
<li><code>related</code> Whether to fetch 10 related playlists or not. (Default: <code>false</code>).</li>
<li><code>suggestionsLimit</code> How many suggestions to return. The result is a list of
                   suggested playlist items (videos) contained in a <code>suggestions</code> key.
                   7 items are retrieved in each internal request. (Default: <code>0</code>).</li>
</ul>
<p>Returns Map with information about the playlist.
The key <code>tracks</code> contains a List of <code>playlistItem</code> Maps</p>
<p>The result is in the following format:</p>
<pre class="language-json"><code class="language-json">{
  "id": "PLQwVIlKxHM6qv-o99iX9R85og7IzF9YS_",
  "privacy": "PUBLIC",
  "title": "New EDM This Week 03/13/2020",
  "thumbnails": [...],
  "description": "Weekly r/EDM new release roundup. Created with github.com/sigma67/spotifyplaylist_to_gmusic",
  "author": {
    "name": "sigmatics",
    "id": "..."
  },
  "year": "2020",
  "duration": "6+ hours",
  "duration_seconds": 52651,
  "trackCount": 237,
  "suggestions": [
    {
      "videoId": "HLCsfOykA94",
      "title": "Mambo (GATTÜSO Remix)",
      "artists": [
        {
          "name": "Nikki Vianna",
          "id": "UCMW5eSIO1moVlIBLQzq4PnQ"
        }
      ],
      "album": {
        "name": "Mambo (GATTÜSO Remix)",
        "id": "MPREb_jLeQJsd7U9w"
      },
      "likeStatus": "LIKE",
      "thumbnails": [...],
      "isAvailable": true,
      "isExplicit": false,
      "duration": "3:32",
      "duration_seconds": 212,
      "setVideoId": "to_be_updated_by_client"
    }
  ],
  "related": [
    {
      "title": "Presenting MYRNE",
      "playlistId": "RDCLAK5uy_mbdO3_xdD4NtU1rWI0OmvRSRZ8NH4uJCM",
      "thumbnails": [...],
      "description": "Playlist • YouTube Music"
    }
  ],
  "tracks": [
    {
      "videoId": "bjGppZKiuFE",
      "title": "Lost",
      "artists": [
        {
          "name": "Guest Who",
          "id": "UCkgCRdnnqWnUeIH7EIc3dBg"
        },
        {
          "name": "Kate Wild",
          "id": "UCwR2l3JfJbvB6aq0RnnJfWg"
        }
      ],
      "album": {
        "name": "Lost",
        "id": "MPREb_PxmzvDuqOnC"
      },
      "duration": "2:58",
      "duration_seconds": 178,
      "setVideoId": "748EE8...",
      "likeStatus": "INDIFFERENT",
      "thumbnails": [...],
      "isAvailable": true,
      "isExplicit": false,
      "videoType": "MUSIC_VIDEO_TYPE_OMV",
      "feedbackTokens": {
        "add": "AB9zfpJxtvrU...",
        "remove": "AB9zfpKTyZ..."
      }
    }
  ]
}

</code></pre>
<p>The <code>setVideoId</code> is the unique id of this playlist item and
needed for moving/removing playlist items.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Future&lt;JsonMap&gt; getPlaylist(
  String playlistId, {
  int? limit = 100,
  bool related = false,
  int suggestionsLimit = 0,
}) async {
  checkAuth();
  final browseId = playlistId.startsWith(&#39;VL&#39;) ? playlistId : &#39;VL$playlistId&#39;;
  final body = {&#39;browseId&#39;: browseId};
  const endpoint = &#39;browse&#39;;
  Future&lt;JsonMap&gt; requestFunc(String additionalParams) =&gt;
      sendRequest(endpoint, body, additionalParams: additionalParams);

  final response = await requestFunc(&#39;&#39;);

  Future&lt;JsonMap&gt; requestFuncContinuations(JsonMap body) =&gt;
      sendRequest(endpoint, body);

  if (playlistId.startsWith(&#39;OLA&#39;) || playlistId.startsWith(&#39;VLOLA&#39;)) {
    return parseAudioPlaylist(response, limit, requestFuncContinuations);
  }

  final headerData =
      nav(response, [
            ...TWO_COLUMN_RENDERER,
            ...TAB_CONTENT,
            ...SECTION_LIST_ITEM,
          ])
          as JsonMap;
  final sectionList =
      nav(response, [...TWO_COLUMN_RENDERER, &#39;secondaryContents&#39;, ...SECTION])
          as JsonMap;

  final playlist = &lt;String, dynamic&gt;{};
  playlist[&#39;owned&#39;] = headerData.containsKey(
    EDITABLE_PLAYLIST_DETAIL_HEADER[0],
  );

  late JsonMap header;

  if (!(playlist[&#39;owned&#39;] as bool)) {
    header = nav(headerData, RESPONSIVE_HEADER) as JsonMap;
    playlist[&#39;id&#39;] = nav(header, [
      &#39;buttons&#39;,
      1,
      &#39;musicPlayButtonRenderer&#39;,
      &#39;playNavigationEndpoint&#39;,
      ...WATCH_PLAYLIST_ID,
    ], nullIfAbsent: true);
    playlist[&#39;privacy&#39;] = &#39;PUBLIC&#39;;
  } else {
    playlist[&#39;id&#39;] = nav(headerData, [
      ...EDITABLE_PLAYLIST_DETAIL_HEADER,
      ...PLAYLIST_ID,
    ]);
    header =
        nav(headerData, [
              ...EDITABLE_PLAYLIST_DETAIL_HEADER,
              ...HEADER,
              ...RESPONSIVE_HEADER,
            ])
            as JsonMap;
    playlist[&#39;privacy&#39;] =
        (((headerData[EDITABLE_PLAYLIST_DETAIL_HEADER[0]]
                    as JsonMap)[&#39;editHeader&#39;]
                as JsonMap)[&#39;musicPlaylistEditHeaderRenderer&#39;]
            as JsonMap)[&#39;privacy&#39;];
  }

  final descriptionShelf =
      nav(header, [&#39;description&#39;, ...DESCRIPTION_SHELF], nullIfAbsent: true)
          as JsonMap?;
  playlist[&#39;description&#39;] =
      descriptionShelf != null
          ? ((descriptionShelf[&#39;description&#39;] as JsonMap)[&#39;runs&#39;]
                  as List&lt;JsonMap&gt;)
              .map((run) =&gt; run[&#39;text&#39;])
              .join()
          : null;

  playlist.addAll(parsePlaylistHeaderMeta(header));

  playlist.addAll(
    parseSongRuns(
      (nav(header, SUBTITLE_RUNS) as List).sublist(
        2 + ((playlist[&#39;owned&#39;] as bool) ? 2 : 0),
      ),
    ),
  );

  &#47;&#47; suggestions and related are missing e.g. on liked songs
  playlist[&#39;related&#39;] = [];

  if (sectionList.containsKey(&#39;continuations&#39;)) {
    var additionalParams = getContinuationParams(sectionList);
    if ((playlist[&#39;owned&#39;] as bool) &amp;&amp; (suggestionsLimit &gt; 0 || related)) {
      List parseFunc(results) =&gt; parsePlaylistItems(results as List&lt;JsonMap&gt;);
      final suggested = await requestFunc(additionalParams);
      final continuation = nav(suggested, SECTION_LIST_CONTINUATION);
      additionalParams = getContinuationParams(continuation as JsonMap);
      final suggestionsShelf = nav(continuation, [
        ...CONTENT,
        ...MUSIC_SHELF,
      ]);
      playlist[&#39;suggestions&#39;] = getContinuationContents(
        suggestionsShelf as JsonMap,
        parseFunc,
      );
      (playlist[&#39;suggestions&#39;] as List).addAll(
        await getReloadableContinuations(
          suggestionsShelf,
          &#39;musicShelfContinuation&#39;,
          suggestionsLimit -
              ((playlist[&#39;suggestions&#39;] as List).length), &#47;&#47; TODO
          requestFunc,
          parseFunc,
        ),
      );
    }

    if (related) {
      final relatedResponse = await requestFunc(additionalParams);
      final continuation = nav(
        relatedResponse,
        SECTION_LIST_CONTINUATION,
        nullIfAbsent: true,
      );
      if (continuation != null) {
        Future&lt;List&gt; parseFunc(results) =&gt;
            parseContentList(results as List&lt;JsonMap&gt;, parsePlaylist);
        playlist[&#39;related&#39;] = getContinuationContents(
          nav(continuation, [...CONTENT, ...CAROUSEL]) as JsonMap,
          parseFunc,
        );
      }
    }
  }

  playlist[&#39;tracks&#39;] = [];
  final contentData =
      nav(sectionList, [...CONTENT, &#39;musicPlaylistShelfRenderer&#39;]) as JsonMap;
  if (contentData.containsKey(&#39;contents&#39;)) {
    playlist[&#39;tracks&#39;] = parsePlaylistItems(
      contentData[&#39;contents&#39;] as List&lt;JsonMap&gt;,
    );
    List parseFunc(contents) =&gt; parsePlaylistItems(contents as List&lt;JsonMap&gt;);
    (playlist[&#39;tracks&#39;] as List).addAll(
      await getContinuations2025(
        contentData,
        limit,
        requestFuncContinuations,
        parseFunc,
      ),
    );
  }

  playlist[&#39;duration_seconds&#39;] = sumTotalDuration(playlist);

  return playlist;
}</code></pre>
</section>


  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">ytmusicapi_dart</a></li>
    <li><a href="../../mixins_playlists/">playlists</a></li>
    <li><a href="../../mixins_playlists/PlaylistsMixin-mixin.html">PlaylistsMixin</a></li>
    <li class="self-crumb">getPlaylist method</li>
</ol>

    <h5>PlaylistsMixin mixin</h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
</div><!--/.sidebar-offcanvas-->
</main>
<footer>
  <span class="no-break">
    ytmusicapi_dart
      2.0.0
  </span>
  
</footer>


<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>

</body>
</html>

